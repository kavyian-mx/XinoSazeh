@using ENDPOINTs.Models.DTOs
@{
    Layout = null;
}
@model ConsultationCreateDto

<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ژینوسازه — درخواست مشاوره غرفه نمایشگاهی</title>
    <meta name="description" content="درخواست مشاوره رایگان طراحی و اجرای غرفه نمایشگاهی" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/Style/styleindex.css">
    <link rel="stylesheet" href="/assets/Style/callmestyle.css">
   
</head>
<body>

    <!-- دکمه منو -->
    <button id="menuBtn" aria-label="باز کردن منو">
        <svg width="34" height="34" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.4">
            <path d="M4 6h16M4 12h16M4 18h16" />
        </svg>
    </button>

    <!-- منوی کناری -->
    <aside id="sideMenu">
        <div class="menu-header">
            <div class="menu-logo">ژینوسازه</div>
            <button id="closeMenu" aria-label="بستن">×</button>
        </div>
        <nav>
            <a href="/" class="menu-item">خانه</a>
            <div class="menu-item sub-toggle" data-target="services">
                خدمات
                <svg width="20" height="20" style="margin-right:auto; transform:rotate(180deg)">
                    <path d="M8 6l4 6-4 6" stroke="currentColor" fill="none" stroke-width="2.2" />
                </svg>
            </div>
            <div class="submenu" id="services">
                <a href="#">طراحی غرفه نمایشگاهی</a>
                <a href="#">اجرای غرفه و نصب</a>
                <a href="#">مشاوره و برندینگ</a>
                <a href="#">غرفه‌های مدولار</a>
            </div>
            <a href="/#projects" class="menu-item">نمونه‌کارها</a>
            <a href="#" class="menu-item">درباره ما</a>
            <a href="/CallMe" class="menu-item">تماس با ما</a>
            <div style="margin-top:70px;padding:32px;background:rgba(212,175,55,0.1);border-radius:22px;border:1px solid rgba(212,175,55,0.3);text-align:center">
                <p style="color:var(--gold);font-size:19px;font-weight:700;margin-bottom:16px">تماس سریع</p>
                <a href="tel:+982174495" style="color:#fff;font-size:26px;font-weight:900">021 - 744 95</a>
            </div>
        </nav>
    </aside>
    <div id="overlay"></div>

    <!-- پاپ‌آپ مشاوره -->
    <div id="contactBackdrop">
        <div class="popup">
            <button class="close-x" data-close>×</button>
            <div class="popup-header">
                <h3>درخواست مشاوره تخصصی</h3>
            </div>
            <div class="popup-grid">
                <div class="form-scroll">
                    @if (TempData["Success"] != null)
                    {
                        <div class="alert alert-success">
                            <strong>عالی!</strong> @TempData["Success"]
                        </div>
                    }

                    <form asp-action="CreateConsultation" asp-controller="CallMe" method="post">
                        @Html.AntiForgeryToken()
                        <div class="row g-4">
                            <div class="col-md-6"><label asp-for="FullName" class="form-label"></label><input asp-for="FullName" class="form-control" placeholder="نام و نام خانوادگی" /><span asp-validation-for="FullName" class="text-danger"></span></div>
                            <div class="col-md-6"><label asp-for="Role" class="form-label"></label><input asp-for="Role" class="form-control" placeholder="سمت سازمانی" /><span asp-validation-for="Role" class="text-danger"></span></div>
                            <div class="col-md-6"><label asp-for="PhoneNumber" class="form-label"></label><input asp-for="PhoneNumber" class="form-control" placeholder="09121234567" /><span asp-validation-for="PhoneNumber" class="text-danger"></span></div>
                            <div class="col-md-6"><label asp-for="Email" class="form-label"></label><input asp-for="Email" type="email" class="form-control" placeholder="email@company.com" /><span asp-validation-for="Email" class="text-danger"></span></div>
                            ливо                            <div class="col-12"><label asp-for="Company" class="form-label"></label><input asp-for="Company" class="form-control" placeholder="نام شرکت" /><span asp-validation-for="Company" class="text-danger"></span></div>
                            <div class="col-md-6"><label asp-for="Exhibition" class="form-label"></label><input asp-for="Exhibition" class="form-control" placeholder="عنوان نمایشگاه" /><span asp-validation-for="Exhibition" class="text-danger"></span></div>
                            <div class="col-md-6"><label asp-for="DateExhibition" class="form-label"></label><input asp-for="DateExhibition" type="date" class="form-control" /><span asp-validation-for="DateExhibition" class="text-danger"></span></div>
                            <div class="col-12"><label asp-for="AddressExhibition" class="form-label"></label><textarea asp-for="AddressExhibition" class="form-control" rows="2" placeholder="آدرس دقیق نمایشگاه"></textarea><span asp-validation-for="AddressExhibition" class="text-danger"></span></div>
                            <div class="col-md-6"><label asp-for="Meterage" class="form-label"></label><div class="input-group"><input asp-for="Meterage" type="number" class="form-control" placeholder="50" /><span class="input-group-text">مترمربع</span></div><span asp-validation-for="Meterage" class="text-danger"></span></div>
                            <div class="col-12"><label asp-for="TextExhibition" class="form-label"></label><textarea asp-for="TextExhibition" class="form-control" rows="4" placeholder="جزئیات پروژه، سبک دلخواه، بودجه تقریبی و..."></textarea><span asp-validation-for="TextExhibition" class="text-danger"></span></div>
                            <div class="col-12">
                                <button type="submit" class="btn-submit">ارسال درخواست مشاوره</button>
                            </div>
                        </div>
                    </form>
                </div>
                <aside class="popup-side">
                    <h4 style="color:var(--gold);font-size:28px;margin-bottom:24px">تماس سریع</h4>
                    <p style="color:#ccc;line-height:2.2;font-size:18px">
                        تلفن: <strong style="color:var(--gold)">021 - 744 95</strong><br>
                        موبایل: <strong style="color:var(--gold)">0902-007-5495</strong><br>
                        ایمیل: <strong style="color:var(--gold)">info@xino.ir</strong>
                    </p>
                    <hr style="border-color:rgba(212,175,55,0.3);margin:40px 0">
                    <h5 style="color:var(--gold)">چرا ژینوسازه؟</h5>
                    <ul style="color:#aaa;line-height:2.1;font-size:16px">
                        <li>بیش از ۱۵ سال تجربه در غرفه‌سازی</li>
                        <li>طراحی 3D و رندر حرفه‌ای رایگان</li>
                        <li>اجرا در تمام نمایشگاه‌های ایران</li>
                        <li>تضمین بهترین قیمت و کیفیت</li>
                    </ul>
                </aside>
            </div>
        </div>
    </div>

    <!-- اسکریپت‌ها -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    <script>
        // منوی کناری
        const menuBtn = document.getElementById('menuBtn');
        const sideMenu = document.getElementById('sideMenu');
        const overlay = document.getElementById('overlay');
        const closeMenu = document.getElementById('closeMenu');

        menuBtn.onclick = () => {
            sideMenu.classList.add('open');
            overlay.classList.add('show');
            document.body.style.overflow = 'hidden';
        };
        const closeMenuFunc = () => {
            sideMenu.classList.remove('open');
            overlay.classList.remove('show');
            document.body.style.overflow = '';
        };
        closeMenu.onclick = overlay.onclick = closeMenuFunc;

        // زیرمنو
        document.querySelectorAll('.sub-toggle').forEach(btn => {
            btn.onclick = () => {
                const sub = document.getElementById(btn.dataset.target);
                sub.style.display = sub.style.display === 'block' ? 'none' : 'block';
            };
        });

        // باز شدن خودکار پاپ‌آپ
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('contactBackdrop').classList.add('show');
        });

        // بستن پاپ‌آپ
        document.querySelectorAll('[data-close]').forEach(btn => {
            btn.onclick = () => {
                document.getElementById('contactBackdrop').classList.remove('show');
                history.back();
            };
        });

        // بعد از موفقیت → ۴ ثانیه بعد برو خانه
        @if (TempData["Success"] != null)
        {
            <text>
                    setTimeout(() => { window.location.href = "/"; }, 4000);
            </text>
        }
    </script>
</body>
</html>